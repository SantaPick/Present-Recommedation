# 그래프 노드 및 관계 설계

## 노드 구성

### 1. User 노드
- 실제 사용자들
- 심리테스트를 통해 성격 특성과 선호도가 파악됨

### 2. Item 노드  
- 상품 데이터 (products_with_concepts.csv 기반)
- 각 상품은 고유한 product_id를 가짐
- 가격, 카테고리, 이미지 등의 속성 포함

### 3. Trait 노드
심리테스트 기반 성격 특성들:

- Openness (개방성)
- Conscientiousness (성실성) 
- Extraversion (외향성)
- Agreeableness (친화성)
- Neuroticism (신경성)
- Elegant (우아함)
- Cute (귀여움)
- Modern (현대적)
- Luxurious (럭셔리)
- Warm (따뜻함)
- Vivid (생생함)
- Sharp (날카로움)
- OSL
- CNFU  
- MVS
- CVPA

### 4. Concept 노드
상품의 개념적 특성들:

- **unique(유니크함)** - 독특함 vs 평범함
- **calm(차분함)** - 차분함 vs 강렬함 (점수 낮으면 강렬함)
- **simple(심플함)** - 단순함 vs 복잡함 (점수 낮으면 복잡함)  
- **meaningful(의미적가치)** - 의미적 vs 물질적 (점수 낮으면 물질적가치)
- **luxury(브랜드)** - 고급스러움 정도
- **efficiency(효율성)** - 실용성/기능성
- **entertainment(오락성)** - 재미/엔터테인먼트 요소
- **relaxation(휴식)** - 힐링/편안함
- **eco_social(환경/사회인증)** - 친환경/사회적 가치
- **soft_hard(부드러움/딱딱함)** - 촉감적 질감
- **rough_smooth(거친/매끈한)** - 표면 질감
- **glossy(광택유무)** - 반사도/윤기
- **saturation(채도)** - 색상의 선명도
- **brightness(명도)** - 밝기 정도  
- **cool_warm(한색/난색)** - 색온도 (차가운색 vs 따뜻한색)

## 가중치 스케일링 원칙

** 모든 관계의 가중치는 동일한 범위로 정규화해야 함**

- **기본 범위**: 0~1 (양의 관계)
- **양/음 관계**: -1~1 (Trait ↔ Concept 등)
- **이유**: 알고리즘 공정성, 편향 방지, 하이퍼파라미터 튜닝 용이성

### 각 관계별 정규화 방법
- **User ↔ Trait**: 심리테스트 점수를 0~1로 정규화
- **User ↔ Concept**: Trait 기반 계산 결과를 0~1로 정규화  
- **Item ↔ Trait**: 의인화 점수를 0~1로 정규화
- **Item ↔ Concept**: CSV의 1~5 점수를 (score-1)/4로 0~1 변환
- **Trait ↔ Concept**: 상관관계 강도에 따라 -1~1 범위 설정

## 노드 간 관계 (Edge) 설계

### 1. User ↔ Trait
- **데이터 소스**: 심리테스트 문항 답변 결과
- **관계 설명**: 사용자가 특정 성격 특성을 얼마나 가지고 있는지
- **가중치**: 심리테스트 점수에 비례 (0~1 범위로 정규화)

### 2. User ↔ Concept  
- **데이터 소스**: 심리테스트 문항 답변 결과 (간접적)
- **관계 설명**: 사용자가 특정 개념적 특성을 선호하는 정도
- **가중치**: Trait → Concept 관계를 통해 간접 계산

### 3. Item ↔ Trait
- **데이터 소스**: 상품 의인화 (진행중)
- **관계 설명**: 상품이 특정 성격 특성을 얼마나 표현하는지
- **가중치**: 임시로 설정 (추후 업데이트 예정)

### 4. Item ↔ Concept
- **데이터 소스**: products_with_concepts.csv 파일의 feature 컬럼들
- **관계 설명**: 상품이 각 개념적 특성을 얼마나 가지고 있는지
- **가중치**: CSV 파일의 점수 값 (1~5 범위)

### 5. Trait ↔ Concept
- **데이터 소스**: Trait_Concept.pdf 분석 결과
- **관계 설명**: 성격 특성과 개념적 특성 간의 상관관계
- **가중치**: 양의 상관관계(+) 또는 음의 상관관계(-) 표시 (구체적 수치는 추후 조정)

## 주요 Trait ↔ Concept 관계

### Big5 성격 요소

**Openness (개방성)**
- 유니크한(+), 채도(+), 심플한(-), 딱딱한(+)

**Conscientiousness (성실성)**  
- 효율성(+), 오락성(-)

**Extraversion (외향성)**
- 브랜드(+), 오락성(+), 채도(+), 유니크한(-), 차분한(-), 심플한(-), 의미적가치(-), 휴식(-), 질감(-)

**Agreeableness (우호성)**
- 의미적가치(+), 환경/사회인증(+), 브랜드(-), 효율성(-)

**Neuroticism (신경성)**
- 차분한(+), 휴식(+), 딱딱(-), 유니크한(-), 오락성(-)

### OSL (자극추구척도)

**스릴과모험추구**
- 차분한(-), 오락성(+), 채도(+), 휴식(-)

**경험추구**  
- 유니크한(+), 의미적가치(+), 오락성(+), 채도(+), 휴식(-)

**탈억제**
- 차분한(-), 심플한(-), 오락성(+), 채도(+), 휴식(-)

**지루함민감성**
- 차분한(-), 심플한(-), 오락성(+), 채도(+), 휴식(-)

### 기타 척도

**CNFU (독특성척도)**
- 유니크한(+)

**MVS (물질주의척도)**  
- 브랜드(+), 의미적가치(-), 환경/사회인증(-)

**CVPA (디자인추구척도)**
- 채도(+), 질감(+), 심플한(+), 브랜드(+), 효율성(-)

### 감성 키워드

**Elegant (우아함)**
- 딱딱함(+), 매끈한(+), 브랜드(+)

**Cute (귀여움)**
- 명도(+), 채도(-)

**Modern (현대적)**  
- 심플한(+), 채도(-), 광택(-)

**Luxurious (고급스러움)**
- 매끈한(+), 광택(+), 명도(-)

**Warm (따뜻함)**
- 난색(+), 딱딱함(-)

**Vivid (생생함)**
- 채도(+), 명도(+), 심플한(-)

**Sharp (날카로움)**
- 딱딱함(+), 광택(+), 심플한(+), 난색(-)


